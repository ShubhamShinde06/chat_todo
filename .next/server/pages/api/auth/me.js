"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/me";
exports.ids = ["pages/api/auth/me"];
exports.modules = {

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("cookie");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fme&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5Cme.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fme&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5Cme.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_me_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\auth\\me.js */ \"(api)/./pages/api/auth/me.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_me_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_me_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/me\",\n        pathname: \"/api/auth/me\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_auth_me_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF1dGglMkZtZSZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDYXV0aCU1Q21lLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3NEO0FBQ3REO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxrREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsa0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hhdF90b2RvLz8zMmZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcYXV0aFxcXFxtZS5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvbWVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL21lXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fme&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5Cme.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./middleware/error.js":
/*!*****************************!*\
  !*** ./middleware/error.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asyncError: () => (/* binding */ asyncError),\n/* harmony export */   errorHandler: () => (/* binding */ errorHandler)\n/* harmony export */ });\n//16\nconst errorHandler = (res, statusCode = 500, message = \"Internal Server Error\")=>{\n    return res.status(statusCode).json({\n        success: false,\n        message: message\n    });\n};\n//18\nconst asyncError = (passedFuc)=>(req, res)=>{\n        return Promise.resolve(passedFuc(req, res)).catch((err)=>{\n            return errorHandler(res, 500, err.message);\n        });\n    };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9taWRkbGV3YXJlL2Vycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBSTtBQUNHLE1BQU1BLGVBQWUsQ0FBQ0MsS0FBSUMsYUFBVyxHQUFHLEVBQUNDLFVBQVEsdUJBQXVCO0lBQzNFLE9BQU9GLElBQUlHLE1BQU0sQ0FBQ0YsWUFBWUcsSUFBSSxDQUFDO1FBQy9CQyxTQUFRO1FBQ1JILFNBQVFBO0lBQ1o7QUFDSixFQUFDO0FBRUQsSUFBSTtBQUNHLE1BQU1JLGFBQWEsQ0FBQ0MsWUFBYyxDQUFDQyxLQUFJUjtRQUMxQyxPQUFPUyxRQUFRQyxPQUFPLENBQUNILFVBQVVDLEtBQUlSLE1BQU1XLEtBQUssQ0FBQyxDQUFDQztZQUNsRCxPQUFPYixhQUFhQyxLQUFJLEtBQUlZLElBQUlWLE9BQU87UUFDdkM7SUFDSixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hhdF90b2RvLy4vbWlkZGxld2FyZS9lcnJvci5qcz8xZTMzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vMTZcclxuZXhwb3J0IGNvbnN0IGVycm9ySGFuZGxlciA9IChyZXMsc3RhdHVzQ29kZT01MDAsbWVzc2FnZT1cIkludGVybmFsIFNlcnZlciBFcnJvclwiKSA9PiB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyhzdGF0dXNDb2RlKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOmZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6bWVzc2FnZSxcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLzE4XHJcbmV4cG9ydCBjb25zdCBhc3luY0Vycm9yID0gKHBhc3NlZEZ1YykgPT4gKHJlcSxyZXMpID0+IHtcclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFzc2VkRnVjKHJlcSxyZXMpKS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICByZXR1cm4gZXJyb3JIYW5kbGVyKHJlcyw1MDAsZXJyLm1lc3NhZ2UpO1xyXG4gICAgfSlcclxufSJdLCJuYW1lcyI6WyJlcnJvckhhbmRsZXIiLCJyZXMiLCJzdGF0dXNDb2RlIiwibWVzc2FnZSIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiYXN5bmNFcnJvciIsInBhc3NlZEZ1YyIsInJlcSIsIlByb21pc2UiLCJyZXNvbHZlIiwiY2F0Y2giLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./middleware/error.js\n");

/***/ }),

/***/ "(api)/./models/user.js":
/*!************************!*\
  !*** ./models/user.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   User: () => (/* binding */ User)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n//3\n\n//4\nconst schema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    //7\n    name: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        unique: true,\n        required: true\n    },\n    password: {\n        type: String,\n        required: true,\n        select: false,\n        minLength: [\n            6,\n            \"Password too short\"\n        ]\n    }\n});\n//5\n(mongoose__WEBPACK_IMPORTED_MODULE_0___default().models) = {};\n//6\nconst User = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", schema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvdXNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxHQUFHO0FBQzZCO0FBRWhDLEdBQUc7QUFDSCxNQUFNQyxTQUFTLElBQUlELHdEQUFlLENBQUM7SUFFL0IsR0FBRztJQUNIRyxNQUFPO1FBQ0hDLE1BQU1DO1FBQ05DLFVBQVU7SUFDZDtJQUNBQyxPQUFRO1FBQ0pILE1BQU1DO1FBQ05HLFFBQVE7UUFDUkYsVUFBVTtJQUNkO0lBQ0FHLFVBQVc7UUFDUEwsTUFBS0M7UUFDTEMsVUFBVTtRQUNWSSxRQUFRO1FBQ1JDLFdBQVU7WUFBQztZQUFHO1NBQXFCO0lBQ3ZDO0FBRUo7QUFFQSxHQUFHO0FBQ0hYLHdEQUFlLEdBQUMsQ0FBQztBQUVqQixHQUFHO0FBQ0ksTUFBTWEsT0FBT2IscURBQWMsQ0FBQyxRQUFPQyxRQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hhdF90b2RvLy4vbW9kZWxzL3VzZXIuanM/NjU5NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLzNcclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuLy80XHJcbmNvbnN0IHNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG5cclxuICAgIC8vN1xyXG4gICAgbmFtZSA6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgZW1haWwgOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHVuaXF1ZTogdHJ1ZSxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBwYXNzd29yZCA6IHtcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICBzZWxlY3Q6IGZhbHNlLFxyXG4gICAgICAgIG1pbkxlbmd0aDpbNiwgXCJQYXNzd29yZCB0b28gc2hvcnRcIl0sXHJcbiAgICB9LFxyXG5cclxufSk7XHJcblxyXG4vLzVcclxubW9uZ29vc2UubW9kZWxzPXt9XHJcblxyXG4vLzZcclxuZXhwb3J0IGNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcIlVzZXJcIixzY2hlbWEpIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwic2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJzZWxlY3QiLCJtaW5MZW5ndGgiLCJtb2RlbHMiLCJVc2VyIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./models/user.js\n");

/***/ }),

/***/ "(api)/./pages/api/auth/me.js":
/*!******************************!*\
  !*** ./pages/api/auth/me.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_features__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/features */ \"(api)/./utils/features.js\");\n\nconst { asyncError, errorHandler } = __webpack_require__(/*! @/middleware/error */ \"(api)/./middleware/error.js\");\n//32\nconst handler = asyncError(async (req, res)=>{\n    if (req.method !== \"GET\") return errorHandler(res, 400, \"Only GET MEthod is allowed\");\n    const user = await (0,_utils_features__WEBPACK_IMPORTED_MODULE_0__.checkAuth)(req);\n    if (!user) return errorHandler(res, 401, \"Login First\");\n    res.status(200).json({\n        success: true,\n        user\n    });\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9tZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxRjtBQUdyRixNQUFNLEVBQUVJLFVBQVUsRUFBRUMsWUFBWSxFQUFFLEdBQUdDLG1CQUFPQSxDQUFDLHVEQUFvQjtBQUVqRSxJQUFJO0FBQ0osTUFBTUMsVUFBVUgsV0FBVyxPQUFPSSxLQUFJQztJQUVsQyxJQUFHRCxJQUFJRSxNQUFNLEtBQUssT0FDZCxPQUFPTCxhQUFhSSxLQUFLLEtBQUs7SUFFbEMsTUFBTUUsT0FBTyxNQUFNWCwwREFBU0EsQ0FBQ1E7SUFDN0IsSUFBRyxDQUFDRyxNQUFNLE9BQU9OLGFBQWFJLEtBQUssS0FBSTtJQUV2Q0EsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztRQUNqQkMsU0FBUTtRQUNSSDtJQUNKO0FBRUo7QUFFQSxpRUFBZ0JKLE9BQU9BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGF0X3RvZG8vLi9wYWdlcy9hcGkvYXV0aC9tZS5qcz8yYzczIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNoZWNrQXV0aCwgY29ubmVjdERCLCBjb29raWVTZXR0ZXIsIGdlbmVyYXRlVG9rZW4gfSBmcm9tIFwiQC91dGlscy9mZWF0dXJlc1wiO1xyXG5cclxuXHJcbmNvbnN0IHsgYXN5bmNFcnJvciwgZXJyb3JIYW5kbGVyIH0gPSByZXF1aXJlKFwiQC9taWRkbGV3YXJlL2Vycm9yXCIpXHJcblxyXG4vLzMyXHJcbmNvbnN0IGhhbmRsZXIgPSBhc3luY0Vycm9yKGFzeW5jIChyZXEscmVzKSA9PiB7XHJcblxyXG4gICAgaWYocmVxLm1ldGhvZCAhPT0gXCJHRVRcIilcclxuICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKHJlcywgNDAwLCBcIk9ubHkgR0VUIE1FdGhvZCBpcyBhbGxvd2VkXCIpO1xyXG5cclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjaGVja0F1dGgocmVxKTtcclxuICAgIGlmKCF1c2VyKSByZXR1cm4gZXJyb3JIYW5kbGVyKHJlcywgNDAxLFwiTG9naW4gRmlyc3RcIiApXHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6dHJ1ZSxcclxuICAgICAgICB1c2VyLFxyXG4gICAgfSk7XHJcblxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0ICBoYW5kbGVyOyJdLCJuYW1lcyI6WyJjaGVja0F1dGgiLCJjb25uZWN0REIiLCJjb29raWVTZXR0ZXIiLCJnZW5lcmF0ZVRva2VuIiwiYXN5bmNFcnJvciIsImVycm9ySGFuZGxlciIsInJlcXVpcmUiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwidXNlciIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/me.js\n");

/***/ }),

/***/ "(api)/./utils/features.js":
/*!***************************!*\
  !*** ./utils/features.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkAuth: () => (/* binding */ checkAuth),\n/* harmony export */   connectDB: () => (/* binding */ connectDB),\n/* harmony export */   cookieSetter: () => (/* binding */ cookieSetter),\n/* harmony export */   generateToken: () => (/* binding */ generateToken)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/models/user */ \"(api)/./models/user.js\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cookie */ \"cookie\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cookie__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__);\n//9\n\n\n\n\nconst connectDB = ()=>{\n    mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(process.env.MONGO_URL, {\n        dbName: \"chatnotes\"\n    }).then((c)=>{\n        console.log(`Database Connected with ${c.connection.host}`);\n    }).catch((err)=>{\n        console.log(err);\n    });\n};\n//22\nconst cookieSetter = (res, token, set)=>{\n    res.setHeader(\"Set-Cookie\", (0,cookie__WEBPACK_IMPORTED_MODULE_2__.serialize)(\"token\", set ? token : \"\", {\n        path: \"/\",\n        httpOnly: true,\n        maxAge: set ? 15 * 24 * 60 * 60 * 1000 : 0\n    }));\n};\n//24\nconst generateToken = (_id)=>{\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default().sign({\n        _id\n    }, process.env.JWT_SECRET);\n};\n//30\nconst checkAuth = async (req)=>{\n    const cookie = req.headers.cookie;\n    if (!cookie) return null;\n    const token = cookie.split(\"=\")[1];\n    const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default().verify(token, process.env.JWT_SECRET);\n    return await _models_user__WEBPACK_IMPORTED_MODULE_1__.User.findById(decoded._id);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9mZWF0dXJlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLEdBQUc7QUFDNkI7QUFDSztBQUNGO0FBQ0g7QUFFekIsTUFBTUksWUFBWTtJQUNyQkosdURBQWdCLENBQUNNLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUyxFQUN0QztRQUFDQyxRQUFTO0lBQVksR0FDckJDLElBQUksQ0FBQyxDQUFDQztRQUNIQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyx3QkFBd0IsRUFBRUYsRUFBRUcsVUFBVSxDQUFDQyxJQUFJLENBQUMsQ0FBQztJQUM5RCxHQUNDQyxLQUFLLENBQUMsQ0FBQ0M7UUFDSkwsUUFBUUMsR0FBRyxDQUFDSTtJQUNoQjtBQUNKLEVBQUU7QUFFRixJQUFJO0FBQ0csTUFBTUMsZUFBZSxDQUFDQyxLQUFJQyxPQUFNQztJQUNuQ0YsSUFBSUcsU0FBUyxDQUNULGNBQ0FwQixpREFBU0EsQ0FBQyxTQUFTbUIsTUFBTUQsUUFBUSxJQUFHO1FBQ3BDRyxNQUFNO1FBQ05DLFVBQVM7UUFDVEMsUUFBUUosTUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLE9BQU87SUFDN0M7QUFDSixFQUFDO0FBRUQsSUFBSTtBQUNHLE1BQU1LLGdCQUFnQixDQUFDQztJQUMxQixPQUFPeEIsd0RBQVEsQ0FBQztRQUFFd0I7SUFBSSxHQUFHckIsUUFBUUMsR0FBRyxDQUFDc0IsVUFBVTtBQUNuRCxFQUFDO0FBRUQsSUFBSTtBQUNHLE1BQU1DLFlBQVksT0FBT0M7SUFDNUIsTUFBTUMsU0FBU0QsSUFBSUUsT0FBTyxDQUFDRCxNQUFNO0lBQ2pDLElBQUksQ0FBQ0EsUUFBUSxPQUFPO0lBRXBCLE1BQU1aLFFBQVFZLE9BQU9FLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUVsQyxNQUFNQyxVQUFVaEMsMERBQVUsQ0FBQ2lCLE9BQU9kLFFBQVFDLEdBQUcsQ0FBQ3NCLFVBQVU7SUFFeEQsT0FBTyxNQUFNNUIsOENBQUlBLENBQUNvQyxRQUFRLENBQUNGLFFBQVFSLEdBQUc7QUFFMUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoYXRfdG9kby8uL3V0aWxzL2ZlYXR1cmVzLmpzPzBhNjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy85XHJcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuaW1wb3J0IHsgVXNlciB9IGZyb20gXCJAL21vZGVscy91c2VyXCI7XHJcbmltcG9ydCB7IHNlcmlhbGl6ZSB9IGZyb20gXCJjb29raWVcIjtcclxuaW1wb3J0IGp3dCAgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbm5lY3REQiA9ICgpID0+IHtcclxuICAgIG1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09fVVJMLFxyXG4gICAge2RiTmFtZSA6IFwiY2hhdG5vdGVzXCIsfSlcclxuICAgIC50aGVuKChjKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYERhdGFiYXNlIENvbm5lY3RlZCB3aXRoICR7Yy5jb25uZWN0aW9uLmhvc3R9YCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICB9KVxyXG59O1xyXG5cclxuLy8yMlxyXG5leHBvcnQgY29uc3QgY29va2llU2V0dGVyID0gKHJlcyx0b2tlbixzZXQpID0+IHtcclxuICAgIHJlcy5zZXRIZWFkZXIoXHJcbiAgICAgICAgXCJTZXQtQ29va2llXCIsXHJcbiAgICAgICAgc2VyaWFsaXplKFwidG9rZW5cIiwgc2V0ID8gdG9rZW4gOiBcIlwiLHtcclxuICAgICAgICBwYXRoOiBcIi9cIixcclxuICAgICAgICBodHRwT25seTp0cnVlLFxyXG4gICAgICAgIG1heEFnZTogc2V0ID8gMTUgKiAyNCAqIDYwICogNjAgKiAxMDAwIDogMCxcclxuICAgIH0pKVxyXG59XHJcblxyXG4vLzI0XHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVRva2VuID0gKF9pZCkgPT4ge1xyXG4gICAgcmV0dXJuIGp3dC5zaWduKHsgX2lkIH0sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xyXG59XHJcblxyXG4vLzMwXHJcbmV4cG9ydCBjb25zdCBjaGVja0F1dGggPSBhc3luYyAocmVxKSA9PiB7XHJcbiAgICBjb25zdCBjb29raWUgPSByZXEuaGVhZGVycy5jb29raWU7XHJcbiAgICBpZiAoIWNvb2tpZSkgcmV0dXJuIG51bGw7XHJcbiAgXHJcbiAgICBjb25zdCB0b2tlbiA9IGNvb2tpZS5zcGxpdChcIj1cIilbMV07XHJcbiAgXHJcbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCk7XHJcbiAgXHJcbiAgICByZXR1cm4gYXdhaXQgVXNlci5maW5kQnlJZChkZWNvZGVkLl9pZCk7XHJcblxyXG59Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiVXNlciIsInNlcmlhbGl6ZSIsImp3dCIsImNvbm5lY3REQiIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09fVVJMIiwiZGJOYW1lIiwidGhlbiIsImMiLCJjb25zb2xlIiwibG9nIiwiY29ubmVjdGlvbiIsImhvc3QiLCJjYXRjaCIsImVyciIsImNvb2tpZVNldHRlciIsInJlcyIsInRva2VuIiwic2V0Iiwic2V0SGVhZGVyIiwicGF0aCIsImh0dHBPbmx5IiwibWF4QWdlIiwiZ2VuZXJhdGVUb2tlbiIsIl9pZCIsInNpZ24iLCJKV1RfU0VDUkVUIiwiY2hlY2tBdXRoIiwicmVxIiwiY29va2llIiwiaGVhZGVycyIsInNwbGl0IiwiZGVjb2RlZCIsInZlcmlmeSIsImZpbmRCeUlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/features.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fme&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5Cme.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();